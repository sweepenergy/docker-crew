<%- include("partials/header"); %>


<!-- <li class="nav-item">
  <a class="nav-link" href="/createStream/<%= streamData.stream_id%>">Create Stream</a>
</li> -->



<h1><%= streamData.name%> </h1>


<div class="container-fluid">
  <div class="row">
    <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
      <div class="position-sticky pt-1">
        <ul class="nav flex-column">

          <li class="nav-item">
            <a class="nav-link">
              <a href="/createStream/<%= streamData.stream_id%>" class="btn btn-sm btn-outline-secondary" id="CreateNewStreamBtn" >Create New Stream </a>
            </a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="#">
              <a href="/addDirectory" class="btn btn-sm btn-outline-secondary" id="CreateNewDirectoryBtn" >Create New Directory</a>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <a href="/addStream" class="btn btn-sm btn-outline-secondary" id="CreateNewStreamBtn" >Create Stream ID</a>
            </a>
          </li> -->
        </ul>
      </div>
    </nav>
    <!-- / -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="table-responsive">
        <table class="table ">
          <thead>
            <tr>
              <th>Units</th>
              <th>Name</th>
              <th>Variable Name</th>
              <th>Description</th>
              <th>Type</th>
              <th>Create</th>
              
            </tr>
          </thead>
          <tbody>
      
      
              <% for(i in streamData){ %>
                      <% var temp = streamData.schema %>
                  <% for( var j = 0; j < temp.length; j++) { %>
      
              <!-- testing with GET -->
              <form action="/streamData" method="GET">
                <tr>
                  <td>  <%= temp[j].units %> </td>
                  
                  
                  <td>  <%= temp[j].display_name %> </td>
                  
                  <!-- stream/5b6efd8a-cd1d-4bc2-82b7-d410579b1787/ts/current_b/dataset -->
                  <td > <a href="/streamDataSet/<%= streamData.stream_id%>/ts/<%= temp[j].var_name %>/dataset" > <%=temp[j].var_name %>  </a> </td>
                  
                  <td><%= temp[j].description %></td>
                  <td><%= temp[j].type %></td>
                  <td> <a href="/addDevice/<%= streamData.stream_id%>/<%= temp[j].var_name %>" class="btn btn-sm" id="addDataBtn">Add Data</a></td>
                  
                </tr>
              </form>
              
            
              <% } %>  
              <% break %>
          <% } %>
      
      
      
          </tbody>
        </table>
      </div>  
  </main>

    </div>
  </div>

</div>
</div>

<%- include("partials/footer"); %>
